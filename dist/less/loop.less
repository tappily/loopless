.loop(@from, @to, @selector, @splicer, @decorations:always) {

  @f: floor(@from);
  @t: floor(@to);
  @i: @f;

  .loop(@i) when(@i=<@t) {

    .loop-build-selector(@selector, @splicer, @i, @f, @t, @decorations);

    .loop(@i + 1);
  };

  .loop(@t) {}

  .loop(@f);

}

.loop(@from, @to, @selector) {
  .loop(@from, @to, @selector, '-');
}

// set decorations and perform mix-in

.loop-build-selector(@selector, @splicer, @index, @from, @to, @decorations) when(@decorations = always) {
  @s: e('@{selector}@{splicer}@{index}');
  @{s} {
    .loop-mix-in(@selector, @index, @from, @to);
  }
}

// or remove decorations and perform mix-in

.loop-build-selector(@selector, @splicer, @index, @from, @to, @decorations) when not(@decorations = always) {
  @s: e('@{selector}');
  @{s} {
    .loop-mix-in(@selector, @index, @from, @to);
  }
}

//implement this in source files

.loop-mix-in(@selector, @index, @from, @to) {}
